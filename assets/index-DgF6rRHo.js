(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();const x=class x{constructor(){this.elements=[]}addElement(e){this.elements.unshift(e)}evaluate(){for(const e of this.elements)e.evaluate([])}toString(){let e=`ComputationStack: {
`;for(const t of this.elements)e+=`  ${t.toString()}
`;return e+="}",e}};x.instance=new x;let _=x;const pe=1e4;class i{constructor(){this.scopes=[{}]}setVariable(e,t){if(this.scopes.length===0){console.error("No scopes available to set a variable.");return}for(let s=this.scopes.length-1;s>=0;s--)if(e in this.scopes[s]){this.scopes[s][e]=t,this.onUpdate();return}this.scopes[this.scopes.length-1][e]=t,this.onUpdate()}defineLocalVariable(e,t){if(this.scopes.length===0){console.error("No scopes available to set a variable."),this.onUpdate();return}this.scopes[this.scopes.length-1][e]=t,this.onUpdate()}getVariable(e){for(let t=this.scopes.length-1;t>=0;t--)if(e in this.scopes[t])return this.scopes[t][e];console.error(`Variable "${e}" not found in any scope.`)}hasVariable(e){for(let t=this.scopes.length-1;t>=0;t--)if(e in this.scopes[t])return!0;return!1}push(){if(this.scopes.length>pe){b.throwError(`Reached Limit of ${pe} scopes. Cannot push a new scope.`);return}this.scopes.push({}),this.onUpdate()}pop(){this.scopes.length>1?this.scopes.pop():console.error("No scopes to pop from the stack."),this.onUpdate()}onUpdate(){}toString(){return JSON.stringify(this.scopes,null,2)}}const h=class h{constructor(){}static reset(){i.instance=new i,_.instance.elements=[],h.output="",h.shouldStop=!1}static interpret(){const e=_.instance,t=[];for(;e.elements.length>0&&!h.shouldStop;){const s=e.elements.pop(),r=[],n=s.constructor.numParameters;for(let l=0;l<n;l++)t.length>0?r.unshift(t.pop()):console.error("Not enough arguments for function:",s.constructor.name);const c=s.evaluate(r);t.push(c)}return h.output}static log(e){h.output+=e+`
`}static throwError(e){h.output+="Error: "+e+`
`,console.error("Error:",e),h.shouldStop=!0}};h.reset();let b=h;const oe=class oe{static addExpression(e){this.expressions.push(e)}static parse(e){const t=new _;e=fe(e);const s=[];this.expressions.sort((c,l)=>c.isExpandable!==l.isExpandable?c.isExpandable?-1:1:l.precedence-c.precedence);for(const c of this.expressions){const l=Array();let p;for(;(p=c.findMatch(e))!==null;){const g=p[0].length;e=e.slice(0,p.index)+" ".repeat(g)+e.slice(p.index+g),l.push(p)}for(const g of l){const I={instance:new c(g.slice(1)),index:g.index};let ue=s.findIndex(ge=>ge.index>I.index);ue===-1?s.push(I):s.splice(ue,0,I)}}const r=[],n=[];for(const c of s){const l=c.instance,p=l.constructor.numParameters;if(p<=0){t.addElement(l);const g=()=>{n[n.length-1]<=1?(n.pop(),t.addElement(r.pop()),g()):n[n.length-1]-=1};g()}else r.push(l),n.push(p)}_.instance.elements.push(...t.elements)}};oe.expressions=[];let v=oe;function fe(o){return o=o.replace(/\/\/.*$/gm,""),o=o.replace(/\s+/g," ").trim(),o}const y=class y{constructor(e){this.match=e}toString(){return`{${this.constructor.name}: ${this.match}}`}static findMatch(e){return null}static register(){v.addExpression(this)}};y.precedence=0,y.numParameters=0;let m=y;const S=class S extends m{constructor(e){super(e)}static findMatch(e){return new RegExp(`${this.symbol}`,"g").exec(e)??null}static register(){super.register(),this.precedence=this.symbol.length}};S.symbol="",S.numParameters=0;let u=S;class a{constructor(e){this.value=e,this.value=e}getValue(){return this.value}evaluate(){return this}}const O=class O extends u{constructor(e){super(e)}evaluate(e){const t=e[0].evaluate([]).getValue(),s=e[1].evaluate([]).getValue();return new a(t+s)}};O.symbol="A",O.numParameters=2;let k=O;const me=Object.freeze(Object.defineProperty({__proto__:null,default:k},Symbol.toStringTag,{value:"Module"})),w=class w extends u{constructor(e){super(e)}evaluate(e){return new a(1)}static findMatch(e){return new RegExp(`${this.symbol}\\s*([a-z]+)`,"g").exec(e)??null}static register(){super.register(),this.precedence=this.symbol.length+1e3}};w.symbol="",w.numParameters=0;let f=w;const j=class j extends f{constructor(e){super(e)}evaluate(e){const t=e[0].evaluate([]).getValue();return i.instance.defineLocalVariable(this.match[0],t),new a(-1)}};j.symbol="D",j.numParameters=1;let H=j;const _e=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"})),P=class P extends u{constructor(e){super(e)}evaluate(e){const t=e[0].evaluate([]).getValue(),s=e[1].evaluate([]).getValue();return new a(t/s)}};P.symbol="D",P.numParameters=2;let W=P;const be=Object.freeze(Object.defineProperty({__proto__:null,default:W},Symbol.toStringTag,{value:"Module"})),E=class E extends u{constructor(e){super(e)}evaluate(e){return v.parse(e[0].evaluate([]).getValue()),new a(-1)}};E.symbol="EVAL",E.numParameters=1;let q=E;const ve=Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"})),V=class V extends u{constructor(e){super(e)}evaluate(e){return e[0].evaluate([]).getValue()>0&&v.parse(e[1].evaluate([]).getValue()),new a(-1)}};V.symbol="EVALIF",V.numParameters=2;let B=V;const xe=Object.freeze(Object.defineProperty({__proto__:null,default:B},Symbol.toStringTag,{value:"Module"})),ae=class ae extends f{constructor(e){super(e)}evaluate(){const e=i.instance.getVariable(this.match[0]);return new a(e)}};ae.symbol="G";let X=ae;const ye=Object.freeze(Object.defineProperty({__proto__:null,default:X},Symbol.toStringTag,{value:"Module"})),M=class M extends u{constructor(e){super(e)}evaluate(e){const t=e[0].evaluate([]).getValue(),s=e[1].evaluate([]).getValue();return new a(t*s)}};M.symbol="X",M.numParameters=2;let D=M;const Se=Object.freeze(Object.defineProperty({__proto__:null,default:D},Symbol.toStringTag,{value:"Module"})),T=class T extends u{constructor(e){super(e)}evaluate(e){return i.instance.pop(),new a(-1)}};T.symbol="POP",T.numParameters=0;let J=T;const Oe=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"})),ce=class ce extends f{constructor(e){super(e)}evaluate(){const e=this.match[0],t=i.instance.getVariable(e);if(t instanceof Array){const s=t.pop();return i.instance.onUpdate(),new a(s)}return new a(-1)}};ce.symbol="POP";let K=ce;const we=Object.freeze(Object.defineProperty({__proto__:null,default:K},Symbol.toStringTag,{value:"Module"})),z=class z extends u{constructor(e){super(e)}evaluate(e){for(const t of e)b.log(t.evaluate([]).getValue().toString());return new a(-1)}};z.symbol="P",z.numParameters=1;let G=z;const je=Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"})),$=class $ extends u{constructor(e){super(e)}evaluate(e){return i.instance.push(),new a(-1)}};$.symbol="PUSH",$.numParameters=0;let Y=$;const Pe=Object.freeze(Object.defineProperty({__proto__:null,default:Y},Symbol.toStringTag,{value:"Module"})),U=class U extends f{constructor(e){super(e)}evaluate(e){const t=this.match[0],s=i.instance.getVariable(t);return s instanceof Array?(s.push(e[0].evaluate([]).getValue()),i.instance.onUpdate(),new a(-1)):new a(0)}};U.symbol="PUSH",U.numParameters=1;let Z=U;const Ee=Object.freeze(Object.defineProperty({__proto__:null,default:Z},Symbol.toStringTag,{value:"Module"})),C=class C extends f{constructor(e){super(e)}evaluate(e){const t=e[0].evaluate([]).getValue();return i.instance.setVariable(this.match[0],t),new a(-1)}};C.symbol="S",C.numParameters=1;let Q=C;const Ve=Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"})),le=class le extends f{constructor(e){super(e)}evaluate(){const e=this.match[0],t=i.instance.getVariable(e);if(t instanceof Array){const s=t.shift();return i.instance.onUpdate(),new a(s)}return new a(-1)}};le.symbol="SHIFT";let F=le;const Me=Object.freeze(Object.defineProperty({__proto__:null,default:F},Symbol.toStringTag,{value:"Module"})),L=class L extends u{constructor(e){super(e)}evaluate(e){const t=e[0].evaluate([]).getValue(),s=e[1].evaluate([]).getValue();return new a(t-s)}};L.symbol="S",L.numParameters=2;let ee=L;const Te=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"})),N=class N extends m{constructor(e){super(e);const t=e[0];this.value=new a(t=="T"?1:0)}evaluate(e){return this.value}static findMatch(e){return new RegExp(this.matchExpression).exec(e)??null}};N.matchExpression=/B(T|F)/g,N.precedence=2;let te=N;const ze=Object.freeze(Object.defineProperty({__proto__:null,default:te},Symbol.toStringTag,{value:"Module"})),R=class R extends m{constructor(e){super(e);const t=e[0];let s=0;for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);if(n==122)s=s*26;else{const c=n-97+1;s=s*26+c}}this.value=new a(s)}evaluate(e){return this.value}static findMatch(e){return new RegExp(this.matchExpression).exec(e)??null}};R.matchExpression=/N([a-z]*)/g,R.precedence=1e5;let se=R;const $e=Object.freeze(Object.defineProperty({__proto__:null,default:se},Symbol.toStringTag,{value:"Module"})),A=class A extends m{constructor(e){super(e)}evaluate(e){return new a([])}static findMatch(e){return new RegExp(this.matchExpression).exec(e)??null}};A.matchExpression=/Q/g,A.precedence=1;let re=A;const Ue=Object.freeze(Object.defineProperty({__proto__:null,default:re},Symbol.toStringTag,{value:"Module"})),ie=class ie extends m{constructor(e){super(e),this.value=new a(e[0])}evaluate(e){return this.value}static findMatch(e){let t=0,s=-1;for(let r=0;r<e.length;r++)if(e.slice(r,r+3)==="STR")t===0&&(s=r),t++,r+=2;else if(e.slice(r,r+3)==="END"){if(t--,t===0&&s!==-1){const n=e.slice(s,r+3),c=e.slice(s+3,r);return Object.assign([n,c],{index:s,input:e})}r+=2}return null}};ie.precedence=1000001;let ne=ie;const Ce=Object.freeze(Object.defineProperty({__proto__:null,default:ne},Symbol.toStringTag,{value:"Module"})),he=Object.assign({"./expressions/AdditionFunction.ts":me,"./expressions/DefineVariableFunction.ts":_e,"./expressions/DivisionFunction.ts":be,"./expressions/EvaluateFunction.ts":ve,"./expressions/EvaluateIfFunction.ts":xe,"./expressions/GetVariableFunction.ts":ye,"./expressions/MultiplicationFunction.ts":Se,"./expressions/PopFunction.ts":Oe,"./expressions/PopQueueFunction.ts":we,"./expressions/PrintFunction.ts":je,"./expressions/PushFunction.ts":Pe,"./expressions/PushQueueFunction.ts":Ee,"./expressions/SetVariableFunction.ts":Ve,"./expressions/ShiftQueueFunction.ts":Me,"./expressions/SubtractionFunction.ts":Te,"./literals/BooleanLiteral.ts":ze,"./literals/NumberLiteral.ts":$e,"./literals/QueueLiteral.ts":Ue,"./literals/StringLiteral.ts":Ce});for(const o in he){const e=he[o];e.default&&typeof e.default.register=="function"&&e.default.register()}function Le(o){return b.reset(),v.parse(o),b.interpret()}window.runCode=()=>{const o=document.getElementById("codeInput").value,e=Le(o);document.getElementById("output").textContent=e};const d=document.querySelector("textarea"),Ne=()=>{const{value:o,selectionStart:e,selectionEnd:t}=d,s=o.lastIndexOf(`
`,e-1)+1,n=o.substring(s,e).match(/^\s*/)[0],c=" ".repeat(4),l=n.replace(/\t/g,c);d.value=`${o.substring(0,e)}
${l}${o.substring(t)}`;const p=e+1+l.length;d.selectionStart=d.selectionEnd=p};d.addEventListener("keydown",o=>{if(o.key==="Tab"){o.preventDefault();const{value:e,selectionStart:t,selectionEnd:s}=d,r=" ".repeat(4);d.value=`${e.substring(0,t)}${r}${e.substring(s)}`,d.selectionStart=d.selectionEnd=t+r.length}else o.key==="Enter"&&(o.preventDefault(),Ne())});
